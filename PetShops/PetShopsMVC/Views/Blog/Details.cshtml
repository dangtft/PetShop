@model PetShopsMVC.Models.Blogs

@{
    ViewData["Title"] = "Blog Details";
}

<div class="container py-5">
    <div class="row pt-5">
        <div class="col-lg-8">
            <div class="blog-details mb-4">
                <div class="blog-header mb-5">
                    <img class="img-fluid w-100 mb-4 blog-image" src="@Model.ImgUrl" alt="">
                    <h1 class="mb-3 blog-title">@Model.Title</h1>
                    <p class="blog-content">@Model.ContentDetail</p>
                    <div class="meta mb-2">
                        <div><a href="#" class="meta-item">@Model.CreatedAt.ToShortDateString()</a></div>
                        <div><a href="#" class="meta-item">@Model.Author</a></div>
                        <div><img src="~/assets/images/chocolat/speech-bubble.png" alt=""><a href="#" class="meta-item">@Model.Comments.Count</a></div>
                    </div>
                </div>

                <div class="comments-section mb-5">
                    <h3 class="mb-4">@Model.Comments.Count Comments</h3>
                    @foreach (var comment in Model.Comments)
                    {
                        <div class="media mb-4 comment">
                            <img src="~/assets/images/reviewer-1.jpg" alt="User avatar" class="img-fluid mr-3 comment-avatar">
                            <div class="media-body comment-body">
                                <h6 class="comment-author">@comment.UserName</h6>
                                <small class="comment-date"><i>@comment.CreatedAt.ToShortDateString()</i></small>
                                <p class="comment-text">@comment.Text</p>
                                <button class="btn btn-sm btn-reply">Reply</button>
                            </div>
                        </div>
                    }
                </div>

                <div class="leave-comment-section">
                    <h3 class="mb-4">Leave a comment</h3>
                    <form asp-action="AddComment" asp-controller="Blog" method="post">
                        <div class="form-group">
                            <label for="UserName">Name *</label>
                            <input type="text" class="form-control" id="UserName" name="UserName" required>
                        </div>
                        <div class="form-group">
                            <label for="Email">Email *</label>
                            <input type="email" class="form-control" id="Email" name="Email" required>
                        </div>
                        <div class="form-group">
                            <label for="Text">Message *</label>
                            <textarea id="Text" name="Text" cols="30" rows="5" class="form-control" required></textarea>
                        </div>
                        <input type="hidden" name="BlogId" value="@Model.BlogId" />
                        <div class="form-group mb-0">
                            <input type="submit" value="Leave Comment" class="btn btn-primary px-3">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .blog-details {
        font-family: Arial, sans-serif;
    }

    .blog-header {
        border-bottom: 1px solid #ddd;
        padding-bottom: 15px;
    }

    .blog-image {
        height: 400px;
        border-radius: 10px;
        border: solid 3px #ddd;
    }

    .blog-title {
        font-size: 2em;
        font-weight: bold;
        color: #333;
    }

    .blog-content {
        font-size: 1.2em;
        color: #555;
    }

    .meta {
        display: flex;
        gap: 10px;
        font-weight: bold;
        color: #888;
    }

    .meta-item {
        color: #888;
        text-decoration: none;
    }

    .comments-section {
        margin-top: 30px;
    }

    .comment {
        background: #f6f6f6;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
    }

    .comment-avatar {
        width: 45px;
        border-radius: 50%;
    }

    .comment-body {
        padding-left: 10px;
    }

    .comment-author {
        font-weight: bold;
        font-size: 1.1em;
        color: #333;
    }

    .comment-date {
        font-size: 0.9em;
        color: #999;
    }

    .comment-text {
        font-size: 1em;
        color: #555;
        margin: 10px 0;
    }

    .btn-reply {
        background-color: #ffecd1;
        color: #333;
        border: none;
    }

    .leave-comment-section {
        background: #f6f6f6;
        padding: 30px;
        border-radius: 10px;
    }
</style>
