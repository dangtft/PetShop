@model IEnumerable<PetShopsMVC.Models.Orders>

@if (Model.Any())
{
    <div class="justify-content-center align-content-center">
        <table style="margin:0px 0px 50px 100px;width:90%;" class="table ">
            <thead>
                <tr>
                    <th>Order ID</th>
                    <th>Name</th>
                    <th>Product</th>
                    <th>Order Total</th>
                    <th>Address</th>
                    <th>Order Time</th>

                </tr>
            </thead>
            <tbody>
                @foreach (var order in Model)
                {
                    <tr>
                        <td>@order.Id</td>
                        <td>@order.FirstName</td>
                        <td>
                            @foreach (var orderDetail in order.OrderDetails)
                            {
                                <div>
                                    <img src="@orderDetail.Product?.ProductImage" alt="Product Image" style="width:50px;height:50px;" />
                                    @orderDetail.Product?.ProductName   x   @orderDetail.Product?.ProductPrice
                                </div>
                            }
                        </td>
                        <td>@order.OrderTotal.ToString("C")</td>
                        <td>@order.Address</td>
                        <td>@order.OrderPlaced.ToString("yyyy-MM-dd HH:mm:ss")</td>

                    </tr>
                }
            </tbody>
        </table>
    </div>

}
else
{
    <p>No completed orders.</p>
}